<!--
  Utilizando API
  https://api.iextrading.com/1.0/stock/aapl/quote

  Adicione um evento de clique a cada <a> do html
  acima e previna o comportamento padrão.

  Faça o fetch dos dados do href ao click e mostre na
  interface o companyName, latestPrice, marketCap
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="./vue.js"></script>
  <title>Document</title>
</head>
<body>
  <div id="app">
    <ul>
      <li><a  href="https://cloud.iexapis.com/stable/stock/aapl/quote?token=sk_f409e56a963e4470a6d76726b8167545" @click.prevent="puxarDados" >Apple</a></li>
      <li><a href="https://cloud.iexapis.com/stable/stock/googl/quote?token=sk_f409e56a963e4470a6d76726b8167545" @click.prevent="puxarDados" >Google</a></li>
      <li><a href="https://cloud.iexapis.com/stable/stock/amzn/quote?token=sk_f409e56a963e4470a6d76726b8167545" @click.prevent="puxarDados" >Amazon</a></li>
      <li><a href="https://cloud.iexapis.com/stable/stock/ebay/quote?token=sk_f409e56a963e4470a6d76726b8167545" @click.prevent="puxarDados" >Ebay</a></li>
      <li><a href="https://cloud.iexapis.com/stable/stock/pypl/quote?token=sk_f409e56a963e4470a6d76726b8167545" @click.prevent="puxarDados" >Paypal</a></li>
    </ul>
    <p>Nome empresa: {{acao.companyName}}</p>
    <p>Valor: {{acao.latestPrice}}</p>
    <p>Valor da empresa: {{acao.marketCap}}</p>
  </div>
</body>
<div></div>
<script>
const vm = new Vue({
  el: "#app",
  data:{
    acao:{}
  },
  methods: {
    puxarDados(event){
     const url = event.currentTarget.href;
     fetch(url)
     .then(r => r.json())
     .then(r => {
       this.acao = r,
       console.log(url);
     })
    }

  }
})
</script>
</html>